{% extends 'base.html' %}

{% block head %} 
<title>Posts</title>
{% endblock %}

{% block body %}
<br>
<h1>All Posts</h1> 

    <hr>
    <h2>Create New Blog Post:</h2>
    <form action = '/posts' method = 'POST'>
        <label for = "title">Title:</label>
        <input class="form-control" type="text" name = 'title' id = 'title' placeholder="Enter TItle" aria-label="Enter TItle">
        <br>
        <label for="author">Author:</label>
        <input class="form-control" type="text" name = 'author' id = 'author' placeholder="Enter Author" aria-label="Enter Author">
        <br>
        <label for="content">Post:</label>
        <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" id = 'content' placeholder = "Enter Post" aria-label = "Enter Post" name = 'content'></textarea>
        <br>
        <input type = 'submit' value = 'Post'>
    </form>
    <hr>

    {% for post in posts %}
        <br>
        <h2>{{post.title}}</h2>

        {% if post.author %}
            <small> Written by {{post.author}} on {{post.date_posted}} </small>
        {% else %}
            <small> Written by anonymous on {{post.date_posted}}</small>
        {% endif %}

        <p>{{post.content}}</p>
        <br>
        <a class = "btn btn-danger"  href = '/posts/delete/{{post.id}}'>Delete</a>
        <a class = "btn btn-primary" href = '/posts/edit/{{post.id}}'>Edit</a>
        <hr>    
    {% endfor %}

{% endblock %}